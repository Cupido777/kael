=== ARCHIVO: inspiration-system.js ===
class InspirationVerseSystem{constructor(){this.bible=null;this.currentInterval=null;this.userId=this.generateUserId();this.lastVerseIndex=-1;this.initializeSystem()}generateUserId(){return'user_'+Math.random().toString(36).substr(2,9)+'_'+Date.now()}initializeSystem(){console.log('ğŸ¯ Inicializando Sistema de VersÃ­culos para usuario:',this.userId);if(typeof BibleRV1960Database!=='undefined'){this.bible=new BibleRV1960Database;this.startVerseRotation()}else{const checkInterval=setInterval(()=>{if(typeof BibleRV1960Database!=='undefined'){clearInterval(checkInterval);this.bible=new BibleRV1960Database;this.startVerseRotation()}},1e3)}}startVerseRotation(){console.log('ğŸ”„ Iniciando rotaciÃ³n de versÃ­culos para:',this.userId);console.log('ğŸ“± Dispositivo:',this.isMobile()?'MÃ³vil':'Computador');this.displayRandomVerse();this.currentInterval=setInterval(()=>{console.log('ğŸ•’ RotaciÃ³n automÃ¡tica ejecutada en:',new Date().toLocaleTimeString());this.displayRandomVerse()},12e4)}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}displayRandomVerse(){if(!this.bible){this.showError('Sistema bÃ­blico no disponible en este momento.');return}try{const verse=this.bible.getRandomVerse();if(verse&&verse.text){this.updateVerseDisplay(verse);console.log(ğŸ“– VersÃ­culo mostrado para ${this.userId}: ${verse.book} ${verse.chapter}:${verse.verse})}else{this.showError('No se pudo cargar el versÃ­culo en este momento.')}}catch(error){console.error('âŒ Error en displayRandomVerse:',error);this.showError('Error al cargar la inspiraciÃ³n diaria.')}}updateVerseDisplay(verse){const verseElement=document.getElementById('bible-verse');if(!verseElement){console.error('âŒ No se encontrÃ³ el elemento bible-verse en el DOM');return}verseElement.innerHTML=<div class="verse-text">"${verse.text}"</div><div class="verse-reference">â€” ${verse.book} ${verse.chapter}:${verse.verse}</div>;verseElement.style.opacity='0';setTimeout(()=>{verseElement.style.transition='opacity 0.5s ease';verseElement.style.opacity='1'},1e2)}showError(message){const verseElement=document.getElementById('bible-verse');if(verseElement){verseElement.innerHTML=<div class="verse-text">${message}</div><div class="verse-reference">â€” Intenta recargar la pÃ¡gina</div>}console.error('âŒ Error del sistema de versÃ­culos:',message)}stopRotation(){if(this.currentInterval){clearInterval(this.currentInterval);this.currentInterval=null;console.log('â¹ï¸ RotaciÃ³n de versÃ­culos detenida para:',this.userId)}}restartRotation(){this.stopRotation();this.startVerseRotation();console.log('ğŸ”„ RotaciÃ³n de versÃ­culos reiniciada para:',this.userId)}getCurrentUserId(){return this.userId}getSystemStatus(){return{userId:this.userId,bibleLoaded:!!this.bible,rotationActive:!!this.currentInterval,totalVerses:this.bible?this.bible.getTotalVersesCount():0,isMobile:this.isMobile()}}}document.addEventListener('DOMContentLoaded',function(){setTimeout(()=>{window.verseSystem=new InspirationVerseSystem;window.debugVerseSystem={showNewVerse:()=>window.verseSystem.displayRandomVerse(),stopRotation:()=>window.verseSystem.stopRotation(),restartRotation:()=>window.verseSystem.restartRotation(),getStatus:()=>window.verseSystem.getSystemStatus()};console.log('âœ… Sistema de versÃ­culos inicializado correctamente')},1e3)});window.InspirationVerseSystem=InspirationVerseSystem;
